import{_ as I,u as k,B as w,w as b,b as o,P as l,k as g,o as u,c as i,a,t as d,F as x,d as S,l as f,z as B,n as v,A as c,p as K,g as C}from"./index-DwUfmo4p.js";const _={setup(){const e=k(),r=w();b(()=>{m(),s(),v.clearAppState()});async function m(){try{const t=e.params.vaultId;await v.getVaultById(t)}catch(t){t.response.data.includes("go there")&&(l.error("You can't go there..."),r.push({name:"Home"}))}}async function s(){try{const t=e.params.vaultId;g.getKeepByVaultId(t)}catch(t){l.error(t)}}return{activeVault:o(()=>c.activeVault),keepsInVaults:o(()=>c.keepsInVault),coverImg:o(()=>{var t;return`url(${(t=c.activeVault)==null?void 0:t.img})`}),keepImg:o(()=>{var t;return`url(${(t=c.keepsInVault)==null?void 0:t.img})`}),account:o(()=>c.account),async destroyKeepFromVault(t){try{if(!await l.confirm("You sure you want to delete this keep out of your vault?"))return;await g.destroyKeepFromVault(t)}catch(p){l.error(p)}}}}},V=()=>{B(e=>({b795c394:e.coverImg,"67e2a9d8":e.keepImg}))},y=_.setup;_.setup=y?(e,r)=>(V(),y(e,r)):V;const F=e=>(K("data-v-8af3a07f"),e=e(),C(),e),D={key:0,class:"container"},A={class:"row justify-content-center"},P={class:"col-12 col-md-3 bg-img text-center d-flex align-items-end"},j={class:"text-light fw-bold fs-4 text-shadow text-break"},N={class:"text-light fw-bold fs-6 text-break text-shadow"},R={class:"text-center"},T={class:"fw-bold fs-3"},Y={class:"row"},z=F(()=>a("h3",null,"Keeps",-1)),E=["src"],H=["onClick"];function L(e,r,m,s,t,p){var h;return s.activeVault?(u(),i("div",D,[a("section",A,[a("div",P,[a("div",null,[a("p",j,d(s.activeVault.name),1),a("p",N,"By "+d(s.activeVault.creator.name),1)])]),a("div",R,[a("p",T,d((h=s.keepsInVaults)==null?void 0:h.length)+" Keeps",1)])]),a("section",Y,[z,(u(!0),i(x,null,S(s.keepsInVaults,n=>(u(),i("div",{class:"col-6 col-md-3 bg-keep",key:n.id},[a("img",{class:"img-fluid",src:n.img,alt:""},null,8,E),a("p",null,d(n.name),1),s.activeVault.creatorId==s.account.id?(u(),i("button",{key:0,class:"btn btn-outline-danger",onClick:q=>s.destroyKeepFromVault(n.vaultKeepId)},"Delete from Vault",8,H)):f("",!0)]))),128))])])):f("",!0)}const J=I(_,[["render",L],["__scopeId","data-v-8af3a07f"]]);export{J as default};
